:root{
  --bg: #080b12;
  --card: rgba(255,255,255,0.06);
  --card-border: rgba(255,255,255,0.14);
  --text: #e8ecff;
  --muted: #a3b3ffcc;
  --primary: #6e9dff;
  --primary2:#7a35ff;
  --primary-glow: 0 0 44px 6px rgba(110,157,255,0.35);
  --success: #33d69f;
  --danger: #ff6b6b;
  --pill: #152034;
  --grid: radial-gradient(circle at 1px 1px, rgba(255,255,255,0.06) 1px, transparent 1px);

  /* score colors */
  --green: #22c55e;
  --yellow: #facc15;
  --red: #f97373;
}

*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0;
  font-family:'Inter',system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
  background:var(--bg); color:var(--text);
}

/* LIGHT THEME */
body.light{
  --bg: #f7f3ff;
  --card: rgba(255,255,255,0.9);
  --card-border: rgba(148,163,184,0.45);
  --text: #0f172a;
  --muted: #64748b;
  --pill: rgba(15,23,42,0.05);
  --grid: radial-gradient(circle at 1px 1px, rgba(148,163,184,0.15) 1px, transparent 1px);
}

/* Transitions */
.page-fade{ animation: fadeIn .5s ease both; }
@keyframes fadeIn{ from{opacity:0; transform: translateY(6px);} to{opacity:1; transform:none;} }

/* Background */
.bg-gradient{ position:fixed; inset:-20%;
  background: conic-gradient(from 0deg, #101541, #0b0f15, #171d49, #0b0f15, #101541);
  filter: blur(100px) saturate(1.2);
  opacity:.6; z-index:-2; animation: spin 36s linear infinite;
}
body.light .bg-gradient{
  background: conic-gradient(from 0deg, #fde68a, #fb7185, #a855f7, #38bdf8, #fde68a);
  filter: blur(130px) saturate(1.1);
  opacity:.7;
}
@keyframes spin{ to{ transform:rotate(360deg);} }

.bg-grid{ position:fixed; inset:0; z-index:-1; opacity:.22;
  background-image: var(--grid); background-size: 22px 22px;
  mask-image: radial-gradient(ellipse at center, rgba(0,0,0,.65) 0%, transparent 70%);
}

/* Layout */
.container{ width:min(1200px,92%); margin:0 auto; }
.header,.footer{ display:flex; align-items:center; justify-content:space-between; padding:18px 0; }
.brand{ display:flex; align-items:center; gap:12px;}
.logo{ width:40px; height:40px; border-radius:12px; display:grid; place-items:center; color:#fff;
  font-weight:800; background: linear-gradient(135deg,var(--primary),var(--primary2)); box-shadow: var(--primary-glow);
}
.subtitle{ margin:0; color:var(--muted); font-size:12px; letter-spacing:.3px;}

.card{
  border:1px solid var(--card-border);
  background:var(--card);
  border-radius:18px;
  padding:22px;
  margin:18px 0;
  box-shadow: 0 4px 40px rgba(0,0,0,.28);
  backdrop-filter: blur(10px);
}
body.light .card{
  box-shadow: 0 18px 40px rgba(15,23,42,.12);
}

.grid{ display:grid; gap:18px; grid-template-columns: repeat(2, minmax(0,1fr)); }
.grid-one{ display:grid; gap:12px; }
.cards-2{ grid-template-columns: repeat(2,minmax(0,1fr)); }
.hero-grid{ grid-template-columns: repeat(2, minmax(0,1fr)); }

/* Action cards */
.action-card{
  text-decoration:none; color:inherit;
  border:1px solid rgba(255,255,255,.12);
  border-radius:16px; padding:18px;
  background: rgba(255,255,255,.06);
  display:block; transition:.2s ease; position:relative; overflow:hidden;
}
body.light .action-card{
  border-color: rgba(148,163,184,.5);
  background: rgba(255,255,255,.9);
}
.action-card:hover{ transform: translateY(-2px); box-shadow: var(--primary-glow); }
.action-icon{ font-size:26px; margin-bottom:6px; }

/* Inputs */
label{ font-weight:600; color:#dfe6ff; }
body.light label{ color:#0f172a; }

input, select, textarea{
  width:100%; padding:12px 14px; border-radius:12px; outline:none;
  color:var(--text);
  background: rgba(255,255,255,0.07);
  border:1px solid rgba(255,255,255,.14);
}
body.light input,
body.light select,
body.light textarea{
  background:#f9fafb;
  border-color: rgba(148,163,184,.6);
}
textarea{ resize:vertical; }
.controls{ grid-column: 1 / -1; display:flex; justify-content:flex-end; }

/* Buttons */
.btn{
  appearance:none; border:1px solid rgba(255,255,255,.18);
  border-radius:12px; padding:10px 14px; background: rgba(255,255,255,.06); color:var(--text);
  transition:.2s ease; cursor:pointer;
}
body.light .btn{
  border-color: rgba(148,163,184,.5);
  background: rgba(255,255,255,.9);
}
.btn:hover{ transform: translateY(-1px); }

.btn.primary{
  background: linear-gradient(135deg,var(--primary),var(--primary2));
  border-color: transparent;
  color:#fff;
}
.btn.glow{ box-shadow: var(--primary-glow); }
.btn.ghost{ background: transparent; }
.btn.success{ background: rgba(51,214,159,.16); border-color: rgba(51,214,159,.35); }
.btn.danger{ background: rgba(255,107,107,.16); border-color: rgba(255,107,107,.35); }
.btn:disabled{ opacity:.6; cursor:not-allowed; }

.muted{ color:var(--muted); }
.small{ font-size:12px; }

/* Panel header */
.panel-header{ display:flex; align-items:center; justify-content:space-between; margin-bottom:10px; }
.pill{
  padding:6px 10px; background:var(--pill);
  border-radius:999px; border:1px solid rgba(255,255,255,.14); color:var(--muted);
}
body.light .pill{
  border-color: rgba(148,163,184,.6);
}

/* Rating pill colors */
.rating-excellent{ background:rgba(34,197,94,.22); color:var(--green); border-color:var(--green); }
.rating-good{ background:rgba(111,147,255,.22); color:var(--primary); border-color:var(--primary); }
.rating-average{ background:rgba(250,204,21,.22); color:var(--yellow); border-color:var(--yellow); }
.rating-poor{ background:rgba(249,115,115,.22); color:var(--red); border-color:var(--red); }

/* Video */
.video-wrap{
  position:relative; overflow:hidden; border-radius:16px;
  border:1px solid rgba(255,255,255,.12);
  background: rgba(0,0,0,.25); aspect-ratio:16/9;
}
body.light .video-wrap{
  border-color: rgba(148,163,184,.6);
  background:#020617;
}
video{ width:100%; height:100%; object-fit:cover; display:block; }
canvas{ position:absolute; inset:0; }

/* meters */
.meters{ display:grid; gap:12px; grid-template-columns: 1fr 1fr; margin-top:12px; }
.meter span{ display:block; font-size:12px; color:var(--muted); margin-bottom:6px; }
.bar{
  height:8px; border-radius:999px;
  background: rgba(255,255,255,.08);
  overflow:hidden;
}
body.light .bar{
  background: rgba(15,23,42,.12);
}
.bar-fill{
  height:100%; width:10%;
  background: linear-gradient(90deg,var(--primary),var(--primary2));
  transition: width .1s;
}
.timer{ font-weight:800; letter-spacing:.5px; }

/* Question card */
.question{
  border:1px solid rgba(255,255,255,.12); padding:12px;
  border-radius:12px; background: rgba(255,255,255,.05); color:#eaf0ff;
}
body.light .question{
  background:#f9fafb;
  border-color: rgba(148,163,184,.6);
  color:#0f172a;
}

/* Dashboard cards */
.mini-card{
  border:1px solid rgba(255,255,255,.12);
  border-radius:14px; padding:14px;
  background: rgba(255,255,255,.05);
}
body.light .mini-card{
  border-color: rgba(148,163,184,.45);
  background:#ffffff;
}
.mini-label{ color:#cdd8ff; font-size:12px; margin-bottom:4px; }
body.light .mini-label{ color:#6b7280; }

.mini-value{ font-size:22px; font-weight:800; }

/* Score */
.score-main{
  font-size:28px;
  font-weight:800;
  text-align:center;
}
.score-stars{
  margin-top:4px;
  font-size:16px;
  letter-spacing:1px;
  text-align:center;
}

/* Analytics mini-panels */
.panel-icon{
  font-size:20px;
  margin-right:6px;
}
.mini-panel-header{
  display:flex;
  align-items:center;
  justify-content:flex-start;
  gap:8px;
  margin-bottom:6px;
}
.panel-stars{
  font-size:14px;
  font-weight:800;
}

/* âœ” FIXED: cleaned formatting (the big issue earlier) */
.mini-pre{
  font-family: 'Inter', sans-serif;
  font-size: 14px;
  color: var(--text);
  margin: 0;
  padding: 8px 0;
  white-space: normal;       /* <-- THE FIX */
  line-height: 1.45;
}

.panel-lines{
  margin:0;
  padding-left:18px;
  font-size:12px;
  line-height:1.35;
  color:#dfe6ff;
}
body.light .panel-lines{
  color:#111827;
}
.panel-lines li{ margin-bottom:4px; }

/* Feedback block */
.feedback{
  white-space: pre-wrap;
  line-height:1.5;
  border:1px solid rgba(255,255,255,.12);
  padding:14px;
  border-radius:14px;
  background: rgba(255,255,255,.04);
}
body.light .feedback{
  border-color: rgba(148,163,184,.6);
  background:#ffffff;
  color:#111827;
}

.hidden{ display:none !important; }
.hero h2{ margin-top:4px; }

/* Fix invisible primary button in Light Theme */
body.light .btn.primary {
  color: #ffffff;
  border-color: transparent;
  background: linear-gradient(135deg, #6e9dff, #7a35ff);
  box-shadow: var(--primary-glow);
}
body.light .btn.primary:hover {
  transform: translateY(-2px);
  box-shadow: 0 0 18px rgba(110,157,255,0.6);
}

/* Navigation */
.nav-links {
  display: flex;
  align-items: center;
  gap: 12px;
}

.actions {
  display: flex;
  align-items: center;
  gap: 14px;
}

/* FINAL FIX for dashboard rendering */
#nlpBox, #toneBox, #emotionBox, #postureBox {
  white-space: normal !important;
  font-size: 14px;
  line-height: 1.45;
}

/* Fix floating icons + stars */
.mini-panel-header {
  display: flex !important;
  align-items: center !important;
  gap: 8px !important;
}

/* Ensure emojis stay aligned */
.panel-icon {
  font-size: 20px !important;
  flex-shrink: 0 !important;
}

/* Fix star alignment */
.panel-stars {
  font-size: 14px !important;
  font-weight: 700 !important;
  line-height: 1 !important;
  margin-left: 4px;
}

/* Fix bullet list collapse */
.panel-lines {
  padding-left: 16px !important;
  margin-top: 6px !important;
  list-style-type: disc !important;
  list-style-position: outside !important;
  white-space: normal !important;
}

.panel-lines li {
  margin-bottom: 6px !important;
  line-height: 1.4 !important;
}
